<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('partials/head') %>
    <title>Certificate - EduTech Platform</title>
    <style>
      .certificate {
        border: 10px solid #1a73e8;
        padding: 50px;
        margin: 20px auto;
        max-width: 800px;
        text-align: center;
        background: #f8f9fa;
      }
      .certificate h1 {
        font-size: 48px;
        color: #1a73e8;
        margin-bottom: 30px;
      }
      .certificate h2 {
        font-size: 36px;
        margin: 20px 0;
      }
      .certificate p {
        font-size: 18px;
        margin: 15px 0;
      }
      .qr-code {
        margin: 30px auto;
      }
      @media print {
        .navbar,
        .btn {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <%- include('partials/navbar', { user: locals.user || {} }) %>

    <div class="container mt-5">
      <div class="certificate">
        <h1>Certificate of Completion</h1>
        <p>This is to certify that</p>
        <h2><%= enrollment.User.UserProfile.fullName %></h2>
        <p>has successfully completed the course</p>
        <h2><%= enrollment.Course.name %></h2>
        <p>on <%= formatDate(enrollment.updatedAt) %></p>

        <div class="qr-code">
          <img src="<%= qrCodeDataUrl %>" alt="Certificate QR Code" />
          <p>
            <small>Certificate ID: <%= certificateData.certificateId %></small>
          </p>
        </div>

        <p><strong>EduTech Platform</strong></p>
      </div>

      <div class="text-center mb-5">
        <button onclick="window.print()" class="btn btn-primary">
          Print Certificate
        </button>
        <a href="/dashboard" class="btn btn-secondary">Back to Dashboard</a>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
